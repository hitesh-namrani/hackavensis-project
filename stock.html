<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CanteenOS - Kitchen Stock</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
.stock-card{
    transition: all 0.3s ease;
}
.stock-card:hover{
    transform: translateY(-6px);
}

.low{ background:#facc15; color:black;}
.out{ background:#ef4444; color:white;}
.good{ background:#16a34a; color:white;}

.badge{
    font-size:11px;
    padding:4px 10px;
    border-radius:999px;
    font-weight:bold;
}
</style>
</head>

<body class="bg-gradient-to-br from-red-500 via-orange-400 to-yellow-400 font-sans pb-32 min-h-screen">

<!-- HEADER -->
<div class="bg-white/90 backdrop-blur-sm p-4 sticky top-0 shadow-sm z-30 flex justify-between items-center">
    <div class="max-w-[1400px] mx-auto w-full flex justify-between items-center">

        <div>
            <h1 class="text-3xl font-black text-gray-800">CanteenOS</h1>
            <p class="text-xs text-gray-500 font-bold tracking-wide">KITCHEN STOCK PANEL</p>
        </div>

        <div class="flex items-center gap-4">
            <span class="hidden md:block font-bold text-gray-700 text-sm">Staff Mode</span>
            <div class="w-10 h-10 bg-red-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg">
                K
            </div>
        </div>

    </div>
</div>

<!-- CONTAINER -->
<div class="max-w-[1400px] mx-auto px-6 mt-6">

<h2 class="text-2xl font-extrabold text-white drop-shadow mb-6">
Today's Food Stock
</h2>

<!-- 4 CARDS PER ROW -->
<div id="stockContainer"
class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-7">
</div>

</div>

<script>

/* -------- INITIAL STOCK -------- */
let stock = JSON.parse(localStorage.getItem("canteenStock")) || {
    samosa:{prepared:50,sold:0},
    patties:{prepared:40,sold:0},
    burger:{prepared:30,sold:0},
    sandwich:{prepared:20,sold:0},
    vadapav:{prepared:35,sold:0},
    fries:{prepared:30,sold:0},
    momos:{prepared:40,sold:0},
    maggi:{prepared:45,sold:0},
    chowmein:{prepared:35,sold:0},
    manchurian:{prepared:25,sold:0},
    dosa:{prepared:30,sold:0},
    idli:{prepared:30,sold:0},
    uttapam:{prepared:20,sold:0},
    chole:{prepared:25,sold:0},
    rajma:{prepared:20,sold:0},
    thali:{prepared:15,sold:0},
    dalmakhani:{prepared:20,sold:0},
    paneer:{prepared:20,sold:0},
    oreo:{prepared:20,sold:0},
    coffee:{prepared:25,sold:0},
    coke:{prepared:40,sold:0},
    chai:{prepared:80,sold:0},
    lassi:{prepared:25,sold:0}
};

localStorage.setItem("canteenStock",JSON.stringify(stock));

const container = document.getElementById("stockContainer");

/* -------- RENDER -------- */
function renderStock(){

container.innerHTML="";

for(let item in stock){

let remaining = stock[item].prepared - stock[item].sold;

let badge="good";
let text="In Stock";

if(remaining<=5 && remaining>0){badge="low";text="Low Stock";}
if(remaining<=0){badge="out";text="Out of Stock";}

container.innerHTML += `
<div class="stock-card bg-white rounded-2xl shadow-xl border-4 border-white overflow-hidden p-5 min-w-[260px]">

    <h3 class="font-bold text-lg text-gray-800 capitalize">${item}</h3>

    <div class="mt-3 space-y-1 text-sm text-gray-700">
        <p>Prepared: <b>${stock[item].prepared}</b></p>
        <p>Sold: <b>${stock[item].sold}</b></p>
        <p>Remaining: <b>${remaining}</b></p>
    </div>

    <span class="badge ${badge} mt-3 inline-block">${text}</span>

    <!-- QUICK BUTTONS -->
    <div class="mt-4 flex gap-2">
        <button onclick="quickAdd('${item}',5)"
        class="flex-1 bg-green-500 text-white py-1.5 rounded-lg font-bold hover:bg-green-600">+5</button>

        <button onclick="quickAdd('${item}',10)"
        class="flex-1 bg-green-600 text-white py-1.5 rounded-lg font-bold hover:bg-green-700">+10</button>

        <button onclick="quickAdd('${item}',20)"
        class="flex-1 bg-green-700 text-white py-1.5 rounded-lg font-bold hover:bg-green-800">+20</button>
    </div>

    <!-- CUSTOM INPUT -->
    <div class="mt-3 flex gap-2">
        <input id="input-${item}" type="number" min="1" placeholder="Enter qty"
        class="w-full border-2 border-gray-300 rounded-xl px-3 py-2 text-sm focus:outline-none focus:border-red-500">

        <button onclick="addCustomStock('${item}')"
        class="bg-red-600 text-white px-4 rounded-xl font-bold hover:bg-red-700">
        Prepare
        </button>
    </div>

    <!-- SOLD -->
    <button onclick="consumeStock('${item}')"
    class="mt-4 w-full bg-gray-800 text-white py-2 rounded-xl font-bold hover:bg-black">
    Mark 1 Sold
    </button>

</div>
`;
}
}

/* -------- FUNCTIONS -------- */

function quickAdd(item,qty){
stock[item].prepared += qty;
localStorage.setItem("canteenStock",JSON.stringify(stock));
renderStock();
}

function addCustomStock(item){
let val = document.getElementById("input-"+item).value;

if(!val || val<=0){
alert("Enter valid quantity");
return;
}

stock[item].prepared += parseInt(val);
localStorage.setItem("canteenStock",JSON.stringify(stock));
renderStock();
}

function consumeStock(item){
stock[item].sold += 1;
localStorage.setItem("canteenStock",JSON.stringify(stock));
renderStock();
}

renderStock();

</script>

</body>
</html>
